---
sidebar: sidebar 
permalink: epic/epic-arch-overview.html 
keywords: epic,cache,iris 
summary: 经典架构 
---
= 经典架构
:allow-uri-read: 


[role="lead"]
本节介绍Epic软件环境以及需要存储的关键组件。其中提供了一些重要注意事项、有助于指导存储设计。

总部位于威斯康星州维罗纳的EPIC为大中型医疗集团、医院和集成医疗保健组织制造软件。客户还包括社区医院、学术机构、客户组织、安全网提供商和多医院系统。EPIC集成软件涵盖临床、访问和收入功能、并扩展到家庭。

涵盖 Epic 软件所支持的广泛功能超出了本文档的讨论范围。但是、从存储系统的角度来看、所有Epic软件都会为每个部署共享一个以患者为中心的数据库。EPIC正在从InterSystems Cach é 数据库过渡到新的InterSystems InterIS数据库。由于Cach é 和Ire的存储要求相同、因此在本文档的其余部分中、我们将数据库称为Ire。可以在AIX和Linux操作系统上使用IS。



== 系统间的可转性

系统间的系统间的信息库是Epic应用程序使用的数据库。在此数据库中、数据服务器是持久存储数据的访问点。应用程序服务器管理数据库查询并向数据服务器发出数据请求。对于大多数Epic软件环境、在单个数据库服务器中使用对称多处理器(SMP)架构足以满足Epic应用程序的数据库请求。在大型部署中、可以使用InterSystems的企业Cach é Protocol (企业Cach é 协议、InterSystems)来支持分布式模型。

通过使用启用故障转移的集群硬件、备用数据服务器可以访问与主数据服务器相同的存储。它还使备用数据服务器能够在发生硬件故障时接管处理职责。

系统间还提供了一些技术来满足数据复制、灾难恢复和高可用性(HA)要求。系统间复制技术用于将一个iSCSI数据库从主数据服务器同步或异步复制到一个或多个二级数据服务器。NetApp SnapMirror用于复制WebBLOB存储或用于备份和灾难恢复。

更新后的可刷新的可刷新的数据库具有许多优势：

* 提高了可扩展性、并支持具有多个Epic实例的大型组织整合到一个更大的实例中。
* 许可假期、客户现在可以在AIX和Red Hat Enterprise Linux (RHEL)之间切换、而无需购买新的平台许可证。




== Cach é 数据库服务器和存储使用量

* *生产*在Epic软件环境中，部署了一个以患者为中心的数据库。在Epic的硬件要求中、托管主读/写IERIS数据服务器的物理服务器称为生产数据库服务器。对于属于主数据库实例的文件、此服务器需要高性能全闪存存储。为了实现高可用性、Epic支持使用可访问相同文件的故障转移数据库服务器。IRC使用Epic Mirror复制到只读报告、灾难恢复并支持只读副本。出于业务连续性的原因、每种类型的数据库服务器都可以切换到读/写模式。
* *Report*报告镜像数据库服务器提供对生产数据的只读访问。它托管着一个配置为生产用的许可协议数据服务器的备份镜像的许可协议数据服务器。报告数据库服务器与生产数据库服务器具有相同的存储容量要求。报告写入性能与生产环境相同、但读取工作负载特征和规模不同。
* *支持只读*此数据库服务器是可选的，下图未显示。此外、还可以部署镜像数据库服务器来支持Epic支持只读功能、在此功能中、可以在只读模式下访问生产副本。出于业务连续性原因、可以将此类数据库服务器切换到读/写模式。
* *灾难恢复*为了满足业务连续性和灾难恢复目标，灾难恢复镜像数据库服务器通常部署在与生产和/或报告镜像数据库服务器不同地理位置的站点上。灾难恢复镜像数据库服务器还托管一个配置为生产用的镜像存储系统数据服务器的备份镜像的镜像存储系统。如果生产站点长时间不可用、则可以将此备份镜像数据库服务器配置为充当镜像读/写实例(SRW)。备份镜像数据库服务器与生产数据库服务器具有相同的文件存储要求。相比之下、从性能角度来看、为了实现业务连续性、备份镜像数据库存储的大小与生产存储的大小相同。


image:epic-iris-odb.png["EPIC IRIS Oodb.(经典IRIS模式"]

* *测试*医疗保健组织通常部署开发、测试和暂存环境。对于这些环境、其他的可扩展存储系统数据服务器也需要存储空间、而存储空间可由同一个存储系统容纳。对于从共享存储系统提供额外存储、EPIC具有特定的要求和限制。本文档中的最佳实践一般会介绍这些特定要求。


除了光标数据服务器之外、Epic软件环境通常还包括其他组件、如下图所示、如下图所示：

* Oracle或Microsoft SQL Server数据库服务器作为Epic Clarity业务报告工具的后端



NOTE: Clarity用于报告每天从报告的"ExIs数据库"中提取的数据。

* WebBLOB服务器(SMB)
* 多用途数据库服务器
* 多用途虚拟机(VM)
* 用于客户端访问的超空间


image:epic-databases.png["EPIC数据库"]

所有这些多个工作负载、池、NAS和SAN协议的存储需求均可整合并由一个ONTAP集群托管。通过这种整合、医疗保健组织可以为所有Epic和非Epic工作负载制定单一的数据管理策略。



== 运行数据库工作负载

每个Epic数据库服务器都会对以下类型的文件执行I/O：

* 数据库文件
* 日志文件
* 应用程序文件


单个数据库服务器的工作负载取决于其在Epic软件环境中的角色。例如、生产数据库文件通常会产生要求最苛刻的工作负载、包括100%随机I/O请求。任何镜像数据库的工作负载通常要求较低、并且读取请求较少。日志文件工作负载主要是顺序的。

EPIC为存储性能基准测试和客户工作负载维护一个工作负载模型。有关Epic工作负载模型、基准测试结果以及使用NetApp规模估算工具为Epic环境正确估算存储规模的指导信息、请参见(需要登录NetApp)。 https://fieldportal.netapp.com/content/192412?assetComponentId=192510["TR-3930i ：《 NetApp Epic 规模估算准则》"^]

此外、EPIC还为每个客户提供了自定义的硬件配置指南、其中包含I/O预测和存储容量要求。最终存储要求可能包括开发、测试和/或暂存环境以及可能整合的任何其他辅助工作负载。客户可以使用硬件配置指南向NetApp传达总存储要求。本指南包含估算Epic部署规模所需的所有数据。

在部署阶段、Epic提供了《数据库存储布局指南》、其中提供了更精细的LUN级别详细信息、可用于高级存储设计。请注意、《数据库存储布局指南》是一般性存储建议、并不特定于NetApp。使用本指南可确定NetApp上的最佳存储布局。
