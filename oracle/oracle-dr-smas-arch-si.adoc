---
sidebar: sidebar 
permalink: oracle/oracle-dr-smas-arch-si.html 
keywords: oracle, active sync, mcc, MCC-IP 
summary: Oracle SnapMirror活动同步 
searchtitle: 具有SnapMirror活动同步的Oracle单实例 
---
= Oracle单实例
:allow-uri-read: 


[role="lead"]
下面的示例介绍了使用SnapMirror活动同步复制部署Oracle单实例数据库的许多选项中的一些选项。

image:smas-oracle-si-nonuniform.png["具有非一致访问的Oracle SI"]



== 使用预配置的操作系统进行故障转移

SnapMirror主动同步可为灾难恢复站点上的数据提供同步副本、但要使数据可用、需要使用操作系统和相关应用程序。基本自动化可以显著缩短整个环境的故障转移时间。通常会使用PacMaker等集群软件产品在站点间创建集群、在许多情况下、可以使用简单的脚本来执行故障转移过程。

如果主节点丢失、则集群软件(或脚本)将使备用站点上的数据库联机。一种选择是、创建为构成数据库的SAN资源预先配置的备用服务器。如果主站点发生故障、则集群软件或脚本化备用站点将执行一系列类似以下内容的操作：

. 检测主站点故障
. 发现FC或iSCSI LUN
. 挂载文件系统和/或挂载ASM磁盘组
. 正在启动数据库


此方法的主要要求是在远程站点上运行操作系统。它必须预配置Oracle二进制文件、这也意味着必须在主站点和备用站点上执行Oracle修补等任务。或者、也可以将Oracle二进制文件镜像到远程站点、并在声明发生灾难时进行挂载。

实际激活操作步骤非常简单。LUN发现等命令只需对每个FC端口执行几个命令即可。文件系统挂载只不过是一个 `mount`命令、数据库和ASM都可以通过命令行界面使用一个命令来启动和停止。



== 使用虚拟化操作系统进行故障转移

数据库环境的故障转移可以扩展到包括操作系统本身。理论上、这种故障转移可以使用启动LUN来完成、但大多数情况下、这种故障转移是通过虚拟化操作系统来完成的。操作步骤类似于以下步骤：

. 检测主站点故障
. 挂载托管数据库服务器虚拟机的数据存储库
. 启动虚拟机
. 手动启动数据库或将虚拟机配置为自动启动数据库。


例如、ESX集群可以跨越多个站点。发生灾难时、可以在切换后将灾难恢复站点上的虚拟机置于联机状态。



== 存储故障保护

上图显示了的使用link:oracle-dr-smas-nonuniform.html["非一致访问"]，其中SAN不会跨站点延伸。这可能更易于配置、在某些情况下、这可能是当前SAN功能的唯一选项、但也意味着主存储系统故障将导致数据库中断、直到应用程序进行故障转移为止。

为了提高故障恢复能力，可以使用部署该解决方案link:oracle-dr-smas-uniform.html["统一访问"]。这将允许应用程序使用从另一站点广告的路径继续运行。
